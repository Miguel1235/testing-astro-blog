---
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";
import {getCollection} from "astro:content";

// const allPosts = await Astro.glob("../pages/posts/*.md")
const allPosts = await getCollection("posts")
const pageTitle="Blog"
---
<BaseLayout pageTitle={pageTitle}>
    <h1 class="text-3xl font-bold text-center m-3">Astro Learning {pageTitle}</h1>
    <p class="text-center m-3 p-3">This is where I will post about my journey learning Astro.</p>
    <ul class="list-disc m-3 list-inside px-3 flex flex-col items-center text-blue-900">
        {
            allPosts.map(
                post=> <BlogPost url={`/posts/${post.slug}`} title={post.data.title}/>)
        }
    </ul>
</BaseLayout>